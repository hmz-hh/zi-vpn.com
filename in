#!/bin/bash

# ÿßŸÑÿ£ŸÑŸàÿßŸÜ
RED='\e[91m'
GREEN='\e[92m'
YELLOW='\e[93m'
BLUE='\e[94m'
MAGENTA='\e[95m'
CYAN='\e[96m'
WHITE='\e[97m'
NC='\e[0m'

# ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ®ŸÉŸÑŸÖÿ© ÿßŸÑÿ≥ÿ±
clear
echo -e "${YELLOW}üîê Secure Access Panel${NC}"
read -sp "üîí Enter password to access: " pass
echo ""
if [[ "$pass" != "HAMZAZIDANE200" ]]; then
  echo -e "${RED}‚ùå Access Denied! Wrong password.${NC}"
  exit 1
fi

# ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÑÿ∫ÿ©
clear
echo -e "${CYAN}üåç ÿßÿÆÿ™ÿ± ÿßŸÑŸÑÿ∫ÿ© | Choose language:${NC}"
echo -e "1) ÿßŸÑÿπÿ±ÿ®Ÿäÿ©"
echo -e "2) English"
read -p "‚û°Ô∏è ÿßÿÆÿ™Ÿäÿßÿ± | Choice: " lang

if [[ $lang == "1" ]]; then
  L_ADD="‚ûï ÿ•ÿ∂ÿßŸÅÿ© ÿ≠ÿ≥ÿßÿ®"
  L_LIST="üìã ÿπÿ±ÿ∂ ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™"
  L_DEL="‚ùå ÿ≠ÿ∞ŸÅ ÿ≠ÿ≥ÿßÿ®"
  L_EXP="‚è∞ ÿ™ÿπÿØŸäŸÑ ÿµŸÑÿßÿ≠Ÿäÿ©"
  L_BCK="üíæ ŸÜÿ≥ÿÆÿ© ÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿäÿ©"
  L_PASS="üîë ÿ™ÿ∫ŸäŸäÿ± ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±"
  L_EXPDEL="üóëÔ∏è ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖŸÜÿ™ŸáŸäÿ©"
  L_VPS="üñ•Ô∏è ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿÆÿßÿØŸÖ"
  L_UNINST="‚ùì ÿ•ŸÑÿ∫ÿßÿ° ÿßŸÑÿ™ÿ´ÿ®Ÿäÿ™"
  L_EXIT="üö™ ÿÆÿ±Ÿàÿ¨"
  L_TITLE="ŸÖÿØŸäÿ± ZiVPN"
  L_WELCOME="ŸÖÿ±ÿ≠ÿ®ÿß ÿ®ŸÉ"
  L_CHOOSE="üëâ ÿßÿÆÿ™ÿ± ÿÆŸäÿßÿ±ÿßŸã: "
  L_ACCESS="ÿ™ŸÖ ÿßŸÑÿØÿÆŸàŸÑ ÿ®ŸÜÿ¨ÿßÿ≠!"
  L_ACTIVE="‚úîÔ∏è ÿ≠ÿ≥ÿßÿ®ÿßÿ™ ŸÖŸÅÿπŸëŸÑÿ©"
  L_EXPIRED="‚ùå ŸÖŸÜÿ™ŸáŸäÿ© ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿ©"
else
  L_ADD="‚ûï Add Account"
  L_LIST="üìã List Account Details"
  L_DEL="‚ùå Delete Account"
  L_EXP="‚è∞ Edit Account Expiry"
  L_BCK="üíæ Full Backup/Restore"
  L_PASS="üîë Edit Account Password"
  L_EXPDEL="üóëÔ∏è Remove Expired"
  L_VPS="üñ•Ô∏è VPS Info"
  L_UNINST="‚ùì Uninstall Guide"
  L_EXIT="üö™ Exit"
  L_TITLE="ZiVPN Manager"
  L_WELCOME="Welcome"
  L_CHOOSE="üëâ Choose an option: "
  L_ACCESS="Access granted!"
  L_ACTIVE="‚úîÔ∏è Active Accounts"
  L_EXPIRED="‚ùå Expired Accounts"
fi

# ÿπÿ±ÿ∂ ÿßŸÑÿπŸÜŸàÿßŸÜ
clear
echo -e "${MAGENTA}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
echo -e "${CYAN}     ‚ö° $L_WELCOME to ${MAGENTA}$L_TITLE v1.5${CYAN} ‚ö°${NC}"
echo -e "${MAGENTA}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
echo -e "${WHITE}By: ${GREEN}@deviYke${WHITE}, ${GREEN}@Kwadeous${WHITE}, ${GREEN}@voltsshx${NC}"
echo -e "${MAGENTA}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"

# IP ÿ´ÿßÿ®ÿ™
PUBLIC_IP="65.20.103.72"
echo -e "${YELLOW}üåê Server IP: ${WHITE}$PUBLIC_IP${NC}"

# ÿ•ÿ∏Ÿáÿßÿ± ÿπÿØÿØ ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™ (ÿ®ÿ¥ŸÉŸÑ ÿ™ÿ¨ÿ±Ÿäÿ®Ÿä - ÿπÿØÿßÿØ ÿπÿ¥Ÿàÿßÿ¶Ÿä)
ACTIVE=$(grep -c '^### ' /etc/passwd 2>/dev/null || echo 5)
EXPIRED=$(cat /etc/shadow | grep '!' | wc -l 2>/dev/null || echo 2)
echo -e "${GREEN}$L_ACTIVE: $ACTIVE ${WHITE}| ${RED}$L_EXPIRED: $EXPIRED${NC}"
echo -e "${MAGENTA}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"

# ÿßŸÑŸÇÿßÿ¶ŸÖÿ©
echo -e "${BLUE} [1] $L_ADD${NC}"
echo -e "${BLUE} [2] $L_LIST${NC}"
echo -e "${BLUE} [3] $L_DEL${NC}"
echo -e "${YELLOW} [4] $L_EXP${NC}"
echo -e "${CYAN} [5] $L_BCK${NC}"
echo -e "${YELLOW} [6] $L_PASS${NC}"
echo -e "${YELLOW} [7] $L_EXPDEL${NC}"
echo -e "${CYAN} [8] $L_VPS${NC}"
echo -e "${MAGENTA}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
echo -e "${RED} [9] $L_UNINST${NC}"
echo -e "${RED} [0] $L_EXIT${NC}"
echo -e "${MAGENTA}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"

# ÿßŸÑÿßÿÆÿ™Ÿäÿßÿ±
read -p "$L_CHOOSE" option

# ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿπŸÖŸÑŸäÿ©
echo "$(date '+%Y-%m-%d %H:%M:%S') - User selected option: $option" >> /var/log/zivpn.log

# ÿßŸÑÿ±ÿØ
case $option in
  1) echo -e "${GREEN}$L_ADD...${NC}";;
  2) echo -e "${CYAN}$L_LIST...${NC}";;
  3) echo -e "${RED}$L_DEL...${NC}";;
  4) echo -e "${YELLOW}$L_EXP...${NC}";;
  5) echo -e "${BLUE}$L_BCK...${NC}";;
  6) echo -e "${YELLOW}$L_PASS...${NC}";;
  7) echo -e "${RED}$L_EXPDEL...${NC}";;
  8) echo -e "${CYAN}$L_VPS...${NC}";;
  9) echo -e "${RED}$L_UNINST...${NC}";;
  0) echo -e "${MAGENTA}$L_EXIT...${NC}";;
  *) echo -e "${RED}‚ùó Invalid option!${NC}";;
esac
